package de.bht.pr2.lession06.group;

import static org.junit.jupiter.api.Assertions.*;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.ObjectInputStream;

import org.junit.jupiter.api.Test;

class GruppenTesten {
	
	private Fahrten fahrtenAbholen(String besitzer) {
		Fahrten returnFahrten = null;
		
		try {
			// Eingabe-Datei einrichten
			FileInputStream fis = new FileInputStream("gruppen_serialisiert/" + besitzer + ".ser");
			ObjectInputStream ois = new ObjectInputStream(fis);

			// Zeugnis-Objekt einlesen
			returnFahrten = (Fahrten) ois.readObject();

			// Aufraeumen
			ois.close();
			fis.close();
		}
		catch (IOException e) {
			e.printStackTrace();
		}
		catch (ClassNotFoundException e) {
			e.printStackTrace();
		}
		
		return returnFahrten;
	}

	@Test
	void testAnna() {
		Fahrten annasFahrten = fahrtenAbholen("Anna");
		
		assertEquals("Wolfsburg", annasFahrten.getZiel(0));
		assertEquals(500, annasFahrten.getEntfernung(0));
		
		assertEquals("Kassel", annasFahrten.getZiel(1));
		assertEquals(800, annasFahrten.getEntfernung(1));
		
		assertEquals("Cottbus", annasFahrten.getZiel(2));
		assertEquals(1000, annasFahrten.getEntfernung(2));
	}
}
